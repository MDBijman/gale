.types
.const
.code
fn fib ($0: u64)
        movc $1, 2
        lt $1, $0, $1
        jmpifn $1 @lbl_1
        movc $1, 1
        ret $1
lbl_1:  movc $1, 1
        sub $2, $0, $1
        call $3, @fib ($2)
        movc $1, 2
        sub $2, $0, $1
        call $4, @fib ($2)
        add $1, $3, $4
        ret $1
endfn

fn main ($0: [string])
        movc $1, 0
        index $2, $0, $1
        call $3, @parse_u64 ($2)
        print $3
        call $4, @fib ($3)
        ret $4
endfn