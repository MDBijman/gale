.const
.code

fn identity ($0: u64)
        movc $1, 1
        add $0, $0, $1 
        ret $0
endfn

fn main ($0: u64)
        movc $1, 1
        eq $1, $0, $1
        jmpifn $1 @lbl_1
        movc $2, 1
        add $1, $2, $1
lbl_1:  call $1, @identity ($1)
        ret $1
endfn